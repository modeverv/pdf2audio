# pdf2audio

## usage:

set your pdf file name in p3.py(line:204)

```bash
pip install -r requirements.txt
python p4.py
```

## performance

performance check with my m4max 128GB

update: remove pydub dependency and implement direct binary concatenation.

```
python3 p4.py 
PDFから文章を抽出中...

抽出された文章数: 1088
使用可能なCPUコア数: 16
0. 若者が
新日本若者論史 総集編 第 1 集
怖い
つくられた 「若者恐怖」 からの脱却
ですか
後藤和智 （後藤和智事務所 OffLine）
2024 年 12 月 1 日 （文学フリマ東京 39）新日本若者論史 総集編 若者が怖いですか
　
第１集
　
つくられた「若者恐怖」からの脱却 
後藤和智事務所ＯｆｆＬｉｎｅ1新日本若者論史 総集編 
若者が
怖いですか
第 1 集 つくられた「若者恐怖」からの脱却
後藤和智（後藤和智事務所 OffLine）
2024 年 12 月 1 日（文学フリマ東京 39）
注意
本書を著作権法の定める私的使用の範囲外で公開などを行うことを禁
じます。
1. また、本書の使用により生じた問題についての責任は負いかね
ます。
2. 3 2まえがき
298冊目の同人誌となります、後藤和智です。
3. 今回は総集編でお送りします。
4. 一応、シリーズとしては「新日本若者論史」に属するはずなのですが、そもそもこのシリーズ、２０２３年の第２回「地下道－３１５０」のときに『若者はなぜ野党に投票するのか』を刊行したっきりです。
... (他 1083 文)

想定処理時間（逐次処理）: 約90.7分
想定処理時間（並列処理）: 約5.7分

音声データの生成を開始します（全1088ファイル）...
並列処理: 16ワーカーを使用
方式: バイナリデータとしてメモリに保持

✓ [100/1088] 生成完了
✓ [200/1088] 生成完了
✓ [300/1088] 生成完了
✓ [400/1088] 生成完了
✓ [500/1088] 生成完了
✓ [600/1088] 生成完了
✓ [700/1088] 生成完了
✓ [800/1088] 生成完了
✓ [900/1088] 生成完了
✓ [1000/1088] 生成完了

音声データの生成が完了しました。
成功: 1088ファイル, 失敗: 0ファイル

WAVファイルをバイナリレベルで連結中...
方式: ヘッダー除去 + バイト列連結（超高速）
  ヘッダーサイズ: 4096バイト
  連結対象: 1088ファイル
  500/1088 ファイル処理済み...
  1000/1088 ファイル処理済み...
  バイト列連結完了: 0.06秒

最終ファイルを書き出し中...
✓ 連結完了: sample.pdf.wav
  ファイルサイズ: 387.02 MB
  PCMデータサイズ: 387.02 MB
  再生時間: 76.69 分

  処理時間内訳:
    バイト列連結: 0.06秒
    ファイル書き出し: 0.05秒
    合計: 0.11秒

=== パフォーマンス ===
音声生成時間: 211.48秒 (3.52分)
総処理時間: 211.60秒 (3.53分)
1文あたり: 0.194秒
実効スピードアップ: 約25.7倍

全ての処理が完了しました！
最終出力ファイル: /Users/seijiro/Sync/sync_work/book2audio/sample.pdf.wav

```

![image](ss1.png)
